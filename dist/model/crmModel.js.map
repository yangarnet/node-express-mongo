{"version":3,"sources":["../../src/model/crmModel.js"],"names":["Schema","ContactSchema","firstName","type","String","required","minlength","lastName","trim","email","maxlength","company","phone","Number","dateAdded","Date","default","now","methods","print","console","log","findContactWithSameFirstName","cb","model","find","ContactModel"],"mappings":";;;;;;AAAA;;;;;;AACA,IAAMA,SAAS,mBAASA,MAAxB;;AAEA;AACA;;;AAGA,IAAMC,gBAAgB,IAAID,MAAJ,CAAW;AAC7BE,eAAW;AACPC,cAAMC,MADC;AAEPC,kBAAU,oBAFH;AAGPC,mBAAW;AAHJ,KADkB;AAM7BC,cAAU;AACNJ,cAAMC,MADA;AAENC,kBAAU,mBAFJ;AAGNC,mBAAW,CAHL;AAINE,cAAM;AAJA,KANmB;AAY7BC,WAAO;AACHN,cAAMC,MADH;AAEHE,mBAAW,CAFR;AAGHI,mBAAW,GAHR;AAIHL,kBAAU;AAJP,KAZsB;AAkB7BM,aAAS;AACLR,cAAMC,MADD;AAELI,cAAM;AAFD,KAlBoB;AAsB7BI,WAAO;AACHT,cAAMU;AADH,KAtBsB;AAyB7BC,eAAW;AACPX,cAAMY,IADC;AAEPC,iBAASD,KAAKE;AAFP;AAzBkB,CAAX,CAAtB;AA8BA;AACA;AACA;AACAhB,cAAciB,OAAd,CAAsBC,KAAtB,GAA8B,YAAW;AACvCC,YAAQC,GAAR,yCAAkD,KAAKnB,SAAvD,iBAA4E,KAAKO,KAAjF;AACD,CAFD;AAGAR,cAAciB,OAAd,CAAsBI,4BAAtB,GAAqD,UAASC,EAAT,EAAa;AAChE,WAAO,KAAKC,KAAL,CAAW,WAAX,EAAwBC,IAAxB,CAA6B,EAACvB,WAAW,KAAKA,SAAjB,EAA7B,EAA0DqB,EAA1D,CAAP;AACD,CAFD;;AAKA;AACA;AACA,IAAMG,eAAe,mBAASF,KAAT,CAAe,SAAf,EAA0BvB,aAA1B,CAArB;;kBAEeyB,Y","file":"crmModel.js","sourcesContent":["import mongoose from 'mongoose';\nconst Schema = mongoose.Schema;\n\n// schema definition, then you can add methods to schema, finally compile model.\n/*\n  support types: String, Boolean, Number, Date, Array, Mixed, ObjectId\n*/\nconst ContactSchema = new Schema({\n    firstName: {\n        type: String,\n        required: 'Enter a first Name',\n        minlength: 2\n    },\n    lastName: {\n        type: String,\n        required: 'Enter a last Name',\n        minlength: 2,\n        trim: true\n    },\n    email: {\n        type: String,\n        minlength: 5,\n        maxlength: 200,\n        required: 'Enter a email addres'\n    },\n    company: {\n        type: String,\n        trim: true\n    },\n    phone: {\n        type: Number\n    },\n    dateAdded: {\n        type: Date,\n        default: Date.now\n    }\n});\n// now you can add new methods to you schema.\n// NOTE: methods must be added to the schema before compiling it with mongoose.model()\n// add instance method\nContactSchema.methods.print = function() {\n  console.log(`ContactSchema.methods : firstName: ${this.firstName} + email:${this.email}`);\n};\nContactSchema.methods.findContactWithSameFirstName = function(cb) {\n  return this.model('myContact').find({firstName: this.firstName}, cb)\n};\n\n\n// now, compiling the schema into the model used by ctrl, herre 'contact' will be\n// the collection name in mongodb, will use ContactModel to interact in controllers.\nconst ContactModel = mongoose.model('contact', ContactSchema);\n\nexport default ContactModel;\n"]}